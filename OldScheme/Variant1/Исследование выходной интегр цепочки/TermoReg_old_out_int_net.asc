Version 4
SHEET 1 1512 1684
WIRE -656 -736 -704 -736
WIRE -528 -736 -592 -736
WIRE -848 -656 -880 -656
WIRE -704 -656 -704 -736
WIRE -704 -656 -768 -656
WIRE -880 -624 -880 -656
WIRE -704 -624 -704 -656
WIRE -672 -624 -704 -624
WIRE -528 -624 -528 -736
WIRE -528 -624 -592 -624
WIRE -528 -576 -528 -624
WIRE -480 -576 -528 -576
WIRE -1664 -528 -1776 -528
WIRE -832 -528 -880 -528
WIRE -704 -528 -704 -624
WIRE -704 -528 -752 -528
WIRE -1776 -496 -1776 -528
WIRE -704 -496 -704 -528
WIRE -672 -496 -704 -496
WIRE -1856 -480 -1856 -544
WIRE -1824 -480 -1856 -480
WIRE -1504 -480 -1504 -512
WIRE -528 -480 -528 -576
WIRE -528 -480 -608 -480
WIRE -672 -464 -704 -464
WIRE -832 -432 -880 -432
WIRE -704 -432 -704 -464
WIRE -704 -432 -752 -432
WIRE -208 -416 -208 -448
WIRE -48 -416 -48 -448
WIRE 112 -416 112 -448
WIRE 288 -416 288 -448
WIRE -1776 -400 -1776 -416
WIRE -1504 -384 -1504 -400
WIRE -704 -384 -704 -432
WIRE -208 -288 -208 -336
WIRE -48 -288 -48 -336
WIRE 112 -288 112 -336
WIRE 288 -288 288 -336
WIRE -704 -256 -704 -304
WIRE -1760 -176 -1776 -176
WIRE -1648 -176 -1680 -176
WIRE -1616 -176 -1648 -176
WIRE -1648 -144 -1648 -176
WIRE -1568 -144 -1568 -176
WIRE -1344 -144 -1568 -144
WIRE -2128 -128 -2128 -144
WIRE -1344 -96 -1344 -144
WIRE -1648 -64 -1648 -80
WIRE -16 -16 -16 -48
WIRE -2176 0 -2400 0
WIRE -1344 16 -1344 -16
WIRE -2400 32 -2400 0
WIRE -2128 32 -2128 -128
WIRE -2448 48 -2576 48
WIRE -2176 48 -2176 0
WIRE -160 64 -160 -80
WIRE -16 80 -16 64
WIRE -1568 96 -1568 -144
WIRE -1568 96 -1792 96
WIRE -1456 96 -1568 96
WIRE -2176 112 -2208 112
WIRE -672 112 -768 112
WIRE -496 112 -608 112
WIRE -2576 128 -2576 48
WIRE -2400 128 -2400 112
WIRE -2128 128 -2128 112
WIRE -2208 144 -2208 112
WIRE -1792 160 -1792 96
WIRE -1456 160 -1456 96
WIRE -2128 176 -2128 128
WIRE -2016 176 -2128 176
WIRE -1840 176 -1840 128
WIRE -160 176 -160 144
WIRE -16 176 -160 176
WIRE -160 208 -160 176
WIRE -2576 240 -2576 208
WIRE -768 256 -768 112
WIRE -672 256 -768 256
WIRE -496 256 -496 112
WIRE -496 256 -592 256
WIRE -336 256 -384 256
WIRE -240 256 -256 256
WIRE -224 256 -240 256
WIRE -1840 304 -1840 240
WIRE -1456 304 -1456 240
WIRE -1392 304 -1456 304
WIRE -240 336 -240 256
WIRE -160 352 -160 304
WIRE -1792 368 -1792 256
WIRE -1712 368 -1792 368
WIRE -1392 368 -1712 368
WIRE -768 384 -768 256
WIRE -688 384 -768 384
WIRE -848 400 -944 400
WIRE -496 400 -496 256
WIRE -496 400 -624 400
WIRE -688 416 -736 416
WIRE -848 432 -848 400
WIRE -496 432 -496 400
WIRE -240 432 -240 400
WIRE -1712 480 -1712 368
WIRE -1456 496 -1456 304
WIRE -848 544 -848 512
WIRE -768 544 -768 384
WIRE -768 544 -848 544
WIRE -496 544 -496 512
WIRE -384 544 -384 256
WIRE -384 544 -496 544
WIRE -848 576 -848 544
WIRE -496 576 -496 544
WIRE -16 592 -16 176
WIRE -1712 608 -1712 560
WIRE -1456 608 -1456 576
WIRE -1456 608 -1712 608
WIRE -1456 656 -1456 608
WIRE -848 704 -848 656
WIRE -496 704 -496 656
WIRE -16 704 -16 672
WIRE -16 704 -176 704
WIRE -16 736 -16 704
WIRE -736 800 -736 416
WIRE -624 800 -736 800
WIRE -560 800 -624 800
WIRE -384 800 -480 800
WIRE -176 800 -176 704
WIRE -176 800 -320 800
WIRE -624 832 -624 800
WIRE -16 864 -16 816
WIRE -624 960 -624 912
WIRE -1600 992 -1664 992
WIRE -1408 992 -1520 992
FLAG -208 -288 0
FLAG -208 -448 6.4V
FLAG -1456 656 0
FLAG -48 -288 0
FLAG -48 -448 15V
FLAG 112 -288 0
FLAG 112 -448 -15V
FLAG -640 -512 15V
FLAG -640 -448 -15V
FLAG -704 -256 0
FLAG -848 704 0
FLAG -656 432 -15V
FLAG -656 368 15V
FLAG -496 704 0
FLAG -160 352 0
FLAG 288 -288 0
FLAG 288 -448 24V
FLAG -16 864 0
FLAG -624 960 0
FLAG -240 432 0
FLAG -1392 304 bridge1
FLAG -1392 368 bridge2
FLAG -880 -528 bridge1
FLAG -880 -432 bridge2
FLAG -528 -480 A
FLAG -944 320 A
FLAG -16 176 Collector
FLAG -1824 -432 0
FLAG -1840 128 VRT
FLAG -1840 304 0
FLAG -1776 -400 0
FLAG -1664 -528 VRTk
FLAG -1856 -544 Collector
FLAG -1312 96 Vrt1
FLAG -1232 208 Vrt2
FLAG -1776 -176 15V
FLAG -1648 -64 0
FLAG -16 80 0
FLAG -160 -80 24V
FLAG -2016 176 Vrt2
FLAG -2128 -128 Vrt1
FLAG -2576 240 0
FLAG -2208 144 0
FLAG -2448 96 0
FLAG -2400 128 0
FLAG -1344 16 0
FLAG -1664 992 0
FLAG -1408 992 A+noise
FLAG -944 400 A+noise
FLAG -1504 -384 0
FLAG -1504 -512 VRT
FLAG -880 -624 0
DATAFLAG -1696 368 ""
DATAFLAG -1424 304 ""
DATAFLAG -496 128 ""
DATAFLAG -480 -576 ""
DATAFLAG -16 320 ""
DATAFLAG -848 544 ""
DATAFLAG -16 704 ""
SYMBOL voltage -208 -432 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName U6.4V
SYMATTR Value 6.4
SYMBOL res -1728 464 R0
SYMATTR InstName Rbr1
SYMATTR Value 5k
SYMBOL res -1472 144 R0
SYMATTR InstName Rbrs
SYMATTR Value 5.4k
SYMBOL res -1472 480 R0
SYMATTR InstName Rbr2
SYMATTR Value 5k
SYMBOL res -1536 -80 R0
SYMATTR InstName Rbr3
SYMATTR Value 2.61k
SYMBOL voltage -48 -432 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName U15V
SYMATTR Value 15
SYMBOL voltage 112 -432 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Un15V
SYMATTR Value -15
SYMBOL res -736 -544 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rdiff1
SYMATTR Value 51k
SYMBOL res -736 -448 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rdiff2
SYMATTR Value 51k
SYMBOL res -720 -400 R0
SYMATTR InstName Rdiff4
SYMATTR Value 210k
SYMBOL res -576 -640 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rdiff3
SYMATTR Value 210k
SYMBOL res -864 416 R0
SYMATTR InstName Rp1
SYMATTR Value 2.2k
SYMBOL res -864 560 R0
SYMATTR InstName Rp2
SYMATTR Value 6.8k
SYMBOL res -576 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rp3
SYMATTR Value {rp3}
SYMBOL res -512 416 R0
SYMATTR InstName Rp4
SYMATTR Value 2.2k
SYMBOL res -512 560 R0
SYMATTR InstName Rp5
SYMATTR Value 2.2k
SYMBOL res -176 48 R0
SYMATTR InstName Rheat
SYMATTR Value 60
SYMBOL voltage 288 -432 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Un24
SYMATTR Value 24
SYMBOL res -32 576 R0
SYMATTR InstName Rp7
SYMATTR Value 47k
SYMBOL res -32 720 R0
SYMATTR InstName Rp8
SYMATTR Value 22k
SYMBOL res -464 784 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rp9
SYMATTR Value 70k
SYMBOL res -608 928 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName Rp10
SYMATTR Value 150k
SYMBOL res -240 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rp6
SYMATTR Value 1k
SYMBOL cap -320 784 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName Cp3
SYMATTR Value 2.2µ
SYMBOL cap -608 96 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName Cp1
SYMATTR Value 0.1µ
SYMBOL cap -592 -752 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName Cdiff1
SYMATTR Value 0.1µ
SYMBOL cap -256 336 R0
SYMATTR InstName Cp2
SYMATTR Value 0.1µ
SYMBOL e -1776 -512 R0
WINDOW 3 -101 183 Left 2
SYMATTR Value Laplace={Kth}/(180*s+1)*exp(-0.8*s)
SYMATTR InstName Eth
SYMBOL zener -1632 -80 R180
WINDOW 0 44 33 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName Dbr1
SYMATTR Value zbr1
SYMBOL res -1664 -192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rbrz
SYMATTR Value 1.5k
SYMBOL res -1744 160 R0
SYMATTR InstName Rbr4
SYMATTR Value 4.52k
SYMBOL ResVolt3 -1792 208 R0
SYMATTR InstName Xbrrd
SYMBOL bv -16 -32 R0
WINDOW 3 24 96 Invisible 2
SYMATTR Value V=if(time<2200,24,if(time>2200,if(time<2203,0,24),24))
SYMATTR InstName B1
SYMBOL npn -224 208 R0
SYMATTR InstName Qp1
SYMATTR Value bjtp1
SYMBOL ResVolt3 -2128 80 R0
SYMATTR InstName Xdistb
SYMATTR SpiceLine rv=286.2k a=0
SYMBOL bv -2576 112 R0
WINDOW 3 40 101 Left 2
SYMATTR Value V=if(time>1000,1,1000)
SYMATTR InstName Bdistb
SYMBOL e -2400 16 R0
WINDOW 3 -94 -53 Left 2
SYMATTR Value Laplace=1/(1*s+1)
SYMATTR InstName Edistb
SYMBOL Opamps\\UniversalOpamp2 -640 -480 R0
SYMATTR InstName Udiff1
SYMATTR Value2 Avol=250k GBW=10Meg Slew=10Meg
SYMATTR SpiceLine Ilimit=25m Rail=0 Vos={vdiffos}
SYMBOL voltage -1344 -112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vbr
SYMATTR Value 6.4
SYMBOL bv -1504 992 R90
WINDOW 3 54 46 VTop 2
WINDOW 0 -32 56 VBottom 2
SYMATTR Value V=white(time*{noisetime})/{noiselevel}*4+V(A)
SYMATTR InstName Bnoise
SYMBOL Opamps\\UniversalOpamp2 -656 400 R0
SYMATTR InstName Up1
SYMATTR Value2 Avol=250k GBW=10Meg Slew=10Meg
SYMBOL bv -1504 -496 R0
SYMATTR InstName B2
SYMATTR Value V=V(VRTk)+{ath}
SYMBOL current -768 -656 M270
WINDOW 0 32 40 VTop 2
WINDOW 3 -32 40 VBottom 2
SYMATTR InstName Idiff1
SYMATTR Value {idiffin}
TEXT -2080 -968 Left 2 !.tran 0 6000 0
TEXT -1480 -192 Left 4 ;Wheatstone Bridge
TEXT -232 -568 Left 4 ;Power Supply
TEXT -1016 -848 Left 4 ;Input Diff Amplifier
TEXT -1880 -696 Left 4 ;Thermostat
TEXT -1000 -120 Left 4 ;Power Block
TEXT -1576 768 Left 2 !.model zbr1 AKO:BZX384B6V2 (Bv=6.42)
TEXT -2600 -208 Left 4 ;Set Point Disturbance
TEXT -328 1040 Left 2 !.model bjtp1 AKO:TIP31C (Bf={bth}  ikf=0 )
TEXT -2624 -1104 Left 4 ;Model Congig
TEXT -1856 880 Left 4 ;Noise
TEXT -1848 1144 Left 2 !.param noisetime 10
TEXT -1856 1208 Left 2 !.param noiselevel 500
TEXT -1840 1104 Left 2 ;V=white(time*{noisetime})/{noiselevel}*4+V(A)
TEXT -1544 -680 Left 2 !.param kth =75
TEXT -1544 -640 Left 2 !.param ath =4000
TEXT -328 992 Left 2 !.param bth =600
TEXT -568 -272 Left 2 !.param vdiffos =0
TEXT -568 -320 Left 2 !.param idiffin =0n
TEXT -736 0 Left 2 ;.step param x list 0 0.1 0.2 1
TEXT -736 -48 Left 2 !.step param rp3 list 1meg 100meg
RECTANGLE Normal -1088 800 -1904 -240 2
RECTANGLE Normal 512 -624 -256 -224 2
RECTANGLE Normal -304 -208 -1056 -896 2
RECTANGLE Normal -1104 -272 -1904 -736 2
RECTANGLE Normal 224 1072 -1056 -176 2
RECTANGLE Normal -1936 320 -2624 -240 2
RECTANGLE Normal -1696 -816 -2656 -1152 2
RECTANGLE Normal -1088 1296 -1904 832 2
